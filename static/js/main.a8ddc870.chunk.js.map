{"version":3,"sources":["componentes/add_form/add_form.module.css","componentes/edit_form/edit_form.module.css","componentes/login/login.module.css","componentes/student/student.module.css","componentes/header/header.module.css","componentes/image_file_input/image_file_input.module.css","componentes/preview/preview.module.css","componentes/maker/maker.module.css","componentes/editor/editor.module.css","componentes/button/button.module.css","componentes/login/login.jsx","componentes/button/button.jsx","componentes/add_form/add_form.jsx","componentes/edit_form/edit_form.jsx","componentes/editor/editor.jsx","componentes/header/header.jsx","componentes/student/student.jsx","componentes/preview/preview.jsx","componentes/maker/maker.jsx","app.jsx","service/firebase.js","service/auth_service.js","service/image_uploader.js","componentes/image_file_input/image_file_input.jsx","service/student_repository.js","index.js"],"names":["module","exports","Login","authService","history","useHistory","goToMaker","userId","push","pathname","state","id","onLogin","event","login","currentTarget","textContent","then","data","user","uid","useEffect","onAuthChange","className","styles","container","title","list","item","button","onClick","span","Button","name","AddForm","FileInput","onAdd","formRef","useRef","nameRef","sexRef","birthRef","jobRef","useState","fileName","fileURL","file","setFile","form","ref","inputbox","input","type","select","placeholder","buttonbox","fileInput","onFileChange","url","preventDefault","student","Date","now","current","value","sex","birth","job","reset","EditForm","updateStudent","deleteStudent","onChange","_student","defaultValue","Editor","addStudent","selected","editor","Header","onLogout","onSearch","inputRef","header","search","onKeyPress","key","handleSearch","searchbar","logout","Student","onStudentClick","process","profileimg","src","alt","info","Preview","students","searchValue","Object","values","filter","console","log","preview","keys","map","Maker","studentRepository","historyState","setStudents","setSelected","setValue","setUserId","useCallback","stopSync","syncStudents","createOrUpdateStudent","updated","saveStudent","maker","removeStudent","App","exact","path","firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","auth","AuthService","providerName","authProvider","signInWithPopup","signOut","onUserChanged","onAuthStateChanged","ImageUploader","FormData","append","fetch","method","body","res","json","ImageFileInput","imageUploader","loading","setLoading","a","upload","target","files","uploded","original_filename","accept","e","click","StudentRepository","onUpdate","database","on","snapshot","val","off","set","remove","ReactDOM","render","StrictMode","props","document","getElementById"],"mappings":"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","file":"static/js/main.a8ddc870.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGrey\":\"#d6d6d6\",\"makerWhite\":\"white\",\"form\":\"add_form_form__2K09-\",\"inputbox\":\"add_form_inputbox__1Y3RZ\",\"title\":\"add_form_title__3VmpG\",\"input\":\"add_form_input__2VTwN\",\"select\":\"add_form_select__2Vg0V\",\"buttonbox\":\"add_form_buttonbox__3eNoY\",\"fileInput\":\"add_form_fileInput__13qft\",\"button\":\"add_form_button__2eV82\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGrey\":\"#d6d6d6\",\"makerWhite\":\"white\",\"form\":\"edit_form_form__Rl2d_\",\"inputbox\":\"edit_form_inputbox__3s5iC\",\"title\":\"edit_form_title__1NTMt\",\"input\":\"edit_form_input__3GQlT\",\"select\":\"edit_form_select__2HkpI\",\"buttonbox\":\"edit_form_buttonbox__AuWLW\",\"fileInput\":\"edit_form_fileInput__3tPqP\",\"button\":\"edit_form_button__3A4zQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerDeepBlue\":\"#4064b5\",\"makerWhite\":\"white\",\"login\":\"login_login__2AYEV\",\"container\":\"login_container__2bmqZ\",\"title\":\"login_title__1SmzT\",\"list\":\"login_list__3hb6Q\",\"item\":\"login_item__1koXG\",\"button\":\"login_button__151uA\",\"span\":\"login_span__17yui\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGrey\":\"#d6d6d6\",\"makerWhite\":\"white\",\"student\":\"student_student__1Tf1W\",\"profileimg\":\"student_profileimg__3HHAM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerDeepBlue\":\"#4064b5\",\"makerWhite\":\"white\",\"makerBlack\":\"#2f2f2f\",\"makerGrey\":\"#d6d6d6\",\"header\":\"header_header__1d7Ni\",\"title\":\"header_title__37xky\",\"search\":\"header_search__3ZoX2\",\"searchbar\":\"header_searchbar__3PkOc\",\"logout\":\"header_logout__1Mh-q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerGrey\":\"#d6d6d6\",\"makerDeepBlue\":\"#4064b5\",\"makerWhite\":\"white\",\"container\":\"image_file_input_container__pPc_4\",\"input\":\"image_file_input_input__2W_Ky\",\"button\":\"image_file_input_button__1BrbZ\",\"loading\":\"image_file_input_loading__3u7Fa\",\"spin\":\"image_file_input_spin__1OGFj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerDeepBlue\":\"#4064b5\",\"makerWhite\":\"white\",\"preview\":\"preview_preview__37uMo\",\"title\":\"preview_title__2NAHw\",\"students\":\"preview_students__2sbPn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"maker\":\"maker_maker__3eTqJ\",\"container\":\"maker_container__30Hoj\",\"editor\":\"maker_editor__2iL2V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerDeepBlue\":\"#4064b5\",\"makerWhite\":\"white\",\"makerGrey\":\"#d6d6d6\",\"editor\":\"editor_editor__1sr9J\",\"title\":\"editor_title__3IDRx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerWhite\":\"white\",\"makerGrey\":\"#d6d6d6\",\"button\":\"button_button__3Xo2Z\"};","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styles from './login.module.css';\r\n\r\nconst Login = ({authService}) => {\r\n    const history=useHistory();\r\n\r\n    const goToMaker=(userId)=>{\r\n        history.push({\r\n            pathname: '/maker',\r\n            state:{id: userId},\r\n        });\r\n    }\r\n\r\n    const onLogin=(event)=>{\r\n        authService\r\n        .login(event.currentTarget.textContent)\r\n        .then(data=>goToMaker(data.user.uid));\r\n    };\r\n\r\n    useEffect(()=>{\r\n        authService.onAuthChange(user=>{\r\n            user&&goToMaker(user.uid);\r\n        })\r\n    })\r\n\r\n    return(\r\n        <section className={styles.login}>\r\n            <div className={styles.container}>\r\n                <h1 className={styles.title}>로그인</h1>\r\n                <ul className={styles.list}>\r\n                    <li className={styles.item}>\r\n                        <button className={styles.button} onClick={onLogin}>\r\n                            <i className=\"fab fa-google\"></i>\r\n                            <span className={styles.span}>Google</span>\r\n                        </button>\r\n                    </li>\r\n                    <li>\r\n                        <button className={styles.button} onClick={onLogin}>\r\n                            <i className=\"fab fa-github\"></i>\r\n                            <span className={styles.span}>Github</span>\r\n                        </button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default Login;","import React from 'react';\r\nimport styles from './button.module.css';\r\n\r\nconst Button = ({name, onClick}) => (\r\n    <button className={styles.button} onClick={onClick}>{name}</button>\r\n);\r\n\r\nexport default Button;","import React, { useRef, useState } from 'react';\r\nimport Button from '../button/button';\r\nimport styles from './add_form.module.css';\r\n\r\nconst AddForm = ({FileInput, onAdd}) => {\r\n    const formRef=useRef();\r\n    const nameRef=useRef();\r\n    const sexRef=useRef();\r\n    const birthRef=useRef();\r\n    const jobRef=useRef();\r\n    const [file, setFile]=useState({fileName:null, fileURL: null});\r\n\r\n    const onFileChange=(file)=>{\r\n        setFile({\r\n            fileName: file.name,\r\n            fileURL: file.url\r\n        })\r\n    }\r\n\r\n    const onSubmit=(event)=>{\r\n        event.preventDefault();\r\n        const student={\r\n            id: Date.now(),\r\n            name: nameRef.current.value||'',\r\n            sex: sexRef.current.value||'',\r\n            birth: birthRef.current.value||'',\r\n            job: jobRef.current.value||'',\r\n            fileName: file.fileName||'',\r\n            fileURL: file.fileURL||'',\r\n        }\r\n\r\n        formRef.current.reset();\r\n        setFile({fileName:null, fileURL: null});\r\n        onAdd(student);\r\n    }\r\n\r\n    return(\r\n        <form className={styles.form} ref={formRef}>\r\n            <div className={styles.inputbox}>\r\n                <span className={styles.title}>이름</span>\r\n                <input className={styles.input} type=\"text\" name=\"name\" ref={nameRef}/>\r\n            </div>\r\n            <div className={styles.inputbox}>\r\n                <span className={styles.title}>성별</span>\r\n                <select name=\"sex\" className={styles.select} ref={sexRef}>\r\n                    <option placeholder=\"여성\">여성</option>\r\n                    <option placeholder=\"남성\">남성</option>\r\n                </select>\r\n            </div>\r\n            <div className={styles.inputbox}>\r\n                <span className={styles.title}>생년월일</span>\r\n                <input className={styles.input} type=\"date\" name=\"birth\" ref={birthRef}/>\r\n            </div>\r\n            <div className={styles.inputbox}>\r\n                <span className={styles.title}>직업</span>\r\n                <input className={styles.input} type=\"text\" name=\"job\" ref={jobRef}/>\r\n            </div>\r\n            <div className={styles.buttonbox}>\r\n                <div className={styles.fileInput}>\r\n                    <FileInput name={file.fileName} onFileChange={onFileChange}/>\r\n                </div>\r\n                <Button className={styles.button} name=\"Add\" onClick={onSubmit}/>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default AddForm;","import React, { useEffect, useRef, useState } from 'react';\r\nimport Button from '../button/button';\r\nimport styles from './edit_form.module.css';\r\n\r\nconst EditForm = ({student, FileInput, updateStudent, deleteStudent}) => {\r\n    const formRef=useRef();\r\n    const nameRef=useRef();\r\n    const sexRef=useRef();\r\n    const birthRef=useRef();\r\n    const jobRef=useRef();\r\n    const [file, setFile]=useState({fileName:null, fileURL: null});\r\n    \r\n    useEffect(()=>{\r\n        formRef.current.reset();\r\n    }, [student])\r\n\r\n    const {name, sex, birth, job}=student;\r\n\r\n    const onFileChange=file=>{\r\n        updateStudent({\r\n            ...student,\r\n            fileName:file.name,\r\n            fileURL: file.url\r\n        })\r\n\r\n        setFile({\r\n            fileName: file.name,\r\n            fileURL: file.url\r\n        })\r\n    }\r\n\r\n    const onChange=(event)=>{\r\n        if(event.currentTarget==null){\r\n            return;\r\n        }\r\n        event.preventDefault();\r\n        const _student={\r\n            id: student.id,\r\n            name: nameRef.current.value||'',\r\n            sex: sexRef.current.value||'',\r\n            birth: birthRef.current.value||'',\r\n            job: jobRef.current.value||'',\r\n            fileName: file.fileName||'',\r\n            fileURL: file.fileURL||'',\r\n        }\r\n        updateStudent(_student);\r\n    }\r\n    const onSubmit=()=>{\r\n        deleteStudent(student);\r\n    }\r\n\r\n    return(\r\n        <form className={styles.form} ref={formRef}>\r\n            <div className={styles.inputbox}>\r\n                <span className={styles.title}>이름</span>\r\n                <input\r\n                className={styles.input}\r\n                type=\"text\"\r\n                name=\"name\"\r\n                ref={nameRef}\r\n                defaultValue={name}\r\n                onChange={onChange}/>\r\n            </div>\r\n            <div className={styles.inputbox}>\r\n                <span className={styles.title}>성별</span>\r\n                <select\r\n                name=\"sex\"\r\n                className={styles.select}\r\n                ref={sexRef}\r\n                value={sex}\r\n                onChange={onChange}>\r\n                    <option placeholder=\"여성\">여성</option>\r\n                    <option placeholder=\"남성\">남성</option>\r\n                </select>\r\n            </div>\r\n            <div className={styles.inputbox}>\r\n                <span className={styles.title}>생년월일</span>\r\n                <input\r\n                className={styles.input}\r\n                type=\"date\"\r\n                name=\"birth\"\r\n                ref={birthRef}\r\n                defaultValue={birth}\r\n                onChange={onChange}/>\r\n            </div>\r\n            <div className={styles.inputbox}>\r\n                <span className={styles.title}>직업</span>\r\n                <input\r\n                className={styles.input}\r\n                type=\"text\"\r\n                name=\"job\"\r\n                ref={jobRef}\r\n                defaultValue={job}\r\n                onChange={onChange}/>\r\n            </div>\r\n            <div className={styles.buttonbox}>\r\n                <div className={styles.fileInput}>\r\n                    <FileInput name={file.fileName} onFileChange={onFileChange}/>\r\n                </div>\r\n                <Button className={styles.button} name=\"Delete\" onClick={onSubmit}/>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default EditForm;","import React from 'react';\r\nimport AddForm from '../add_form/add_form';\r\nimport EditForm from '../edit_form/edit_form';\r\nimport styles from './editor.module.css';\r\n\r\nconst Editor = ({FileInput, addStudent, selected, updateStudent, deleteStudent}) => (\r\n    <section className={styles.editor}>\r\n        <button className={styles.title}>수강생 관리</button>\r\n        <div>\r\n            <AddForm FileInput={FileInput} onAdd={addStudent}/>\r\n            {selected&&<EditForm FileInput={FileInput} student={selected} deleteStudent={deleteStudent} updateStudent={updateStudent}/>}\r\n        </div>\r\n    </section>\r\n);\r\n\r\nexport default Editor;","import React, { useRef } from 'react';\r\nimport styles from './header.module.css';\r\n\r\nconst Header = ({onLogout, onSearch}) => {\r\n    const inputRef=useRef();\r\n\r\n    const handleSearch=()=>{\r\n        const value=inputRef.current.value;\r\n        onSearch(value);\r\n    }\r\n\r\n    const onKeyPress=(event)=>{\r\n        if(event.key==='Enter'){\r\n            handleSearch();\r\n        }\r\n    }\r\n\r\n    return(\r\n        <header className={styles.header}>\r\n            <h1 className={styles.title}>수강생 관리</h1>\r\n            <div className={styles.search}>\r\n                <input ref={inputRef} onKeyPress={onKeyPress} className={styles.searchbar} type=\"search\" placeholder=\"Search..\"/>\r\n            </div>\r\n            {onLogout&&(<button onClick={onLogout} className={styles.logout}>Logout</button>)}\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport styles from './student.module.css';\r\n\r\nconst DEFAULT_IMAGE=process.env.PUBLIC_URL+'/images/default_profile.png';\r\nconst Student = ({student, onStudentClick}) => {\r\n    const {name, birth, sex, job, fileURL}=student;\r\n    const url=fileURL||DEFAULT_IMAGE;\r\n\r\n    const onClick=()=>{\r\n        onStudentClick(student);\r\n    }\r\n    \r\n    return(\r\n        <li className={styles.student} onClick={onClick}>\r\n            <img className={styles.profileimg} src={url} alt=\"profile\"/>\r\n            <span className={styles.info}>{name}</span>\r\n            <span className={styles.info}>{birth}</span>\r\n            <span className={styles.info}>{sex}</span>\r\n            <span className={styles.info}>{job}</span>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default Student;","import React from 'react';\r\nimport Student from '../student/student';\r\nimport styles from './preview.module.css';\r\n\r\nconst Preview = ({students, value, onStudentClick}) => {\r\n    let searchValue=null;\r\n\r\n    if(value!=null){\r\n        searchValue=Object.values(students).filter(student=>student.name===value);\r\n        console.log(searchValue);\r\n        console.log(value);\r\n    }\r\n\r\n    return(\r\n        <section className={styles.preview}>\r\n            <button className={styles.title}>수강생 목록</button>\r\n            <ul className={styles.students}>\r\n            {!value&&Object.keys(students).map(key=>(<Student onStudentClick={onStudentClick} key={key} student={students[key]}/>))}\r\n            {searchValue&&searchValue.map(key=>(<Student onStudentClick={onStudentClick} key={key.id} student={students[key.id]}/>))}\r\n            </ul>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default Preview;","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Editor from '../editor/editor';\r\nimport Header from '../header/header';\r\nimport Preview from '../preview/preview';\r\nimport styles from './maker.module.css';\r\n\r\nconst Maker = ({FileInput, authService, studentRepository}) => {\r\n    const historyState=useHistory().state;\r\n    const history=useHistory();\r\n    const [students, setStudents]=useState({});\r\n    const [selected, setSelected]=useState(null);\r\n    const [value, setValue]=useState(null);\r\n    const [userId, setUserId]=useState(historyState&&historyState.id);\r\n\r\n    const onLogout=useCallback(()=>{\r\n        authService.logout();\r\n    },[authService]);\r\n\r\n    useEffect(()=>{\r\n        if(!userId){\r\n            return;\r\n        }\r\n        const stopSync=studentRepository.syncStudents(userId, students=>{\r\n            setStudents(students);\r\n        })\r\n        return()=>{stopSync();}\r\n    },[userId])\r\n\r\n    useEffect(()=>{\r\n        authService.onAuthChange(user=>{\r\n            if(user){\r\n                setUserId(user.uid);\r\n            }else{\r\n                history.push('/');\r\n            }\r\n        })\r\n    })\r\n\r\n    const onSearch=(value)=>{\r\n        setValue(value);\r\n    }\r\n\r\n    const createOrUpdateStudent=(student)=>{\r\n        setStudents(students=>{\r\n            const updated={...students};\r\n            updated[student.id]=student;\r\n            return updated;\r\n        });\r\n        studentRepository.saveStudent(userId, student);\r\n    }\r\n\r\n    const deleteStudent=(student)=>{\r\n        setStudents(students=>{\r\n            const updated={...students};\r\n            delete updated[student.id];\r\n            return updated;\r\n        });\r\n        studentRepository.removeStudent(userId, student);\r\n    }\r\n\r\n    const onStudentClick=(student)=>{\r\n        setSelected(student);\r\n    }\r\n\r\n    return(\r\n        <section className={styles.maker}>\r\n            <Header onLogout={onLogout} onSearch={onSearch}/>\r\n            <div className={styles.container}>\r\n                <div className={styles.editor}>\r\n                    <Editor selected={selected} FileInput={FileInput} addStudent={createOrUpdateStudent} deleteStudent={deleteStudent} updateStudent={createOrUpdateStudent}/>\r\n                </div>\r\n                <Preview value={value} onStudentClick={onStudentClick} students={students}/>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default Maker;","import { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport './app.css';\nimport Login from './componentes/login/login';\nimport Maker from './componentes/maker/maker';\n\nfunction App({FileInput, authService, studentRepository}) {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path={['/', '/student-management']}>\n          <Login authService={authService}/>\n        </Route>\n        <Route path=\"/maker\">\n          <Maker FileInput={FileInput} studentRepository={studentRepository} authService={authService}/>\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_DB_URL,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID\r\n};\r\n// Initialize Firebase\r\nconst firebaseApp=firebase.initializeApp(firebaseConfig);\r\nexport const firebaseAuth=firebaseApp.auth();\r\nexport default firebaseApp;","import firebase from 'firebase';\r\nimport firebaseApp from './firebase'\r\n\r\nclass AuthService{\r\n    login(providerName){\r\n        const authProvider=new firebase.auth[`${providerName}AuthProvider`]();\r\n\r\n        return firebaseApp.auth().signInWithPopup(authProvider);\r\n    }\r\n\r\n    logout(){\r\n        firebase.auth().signOut();\r\n    }\r\n\r\n    onAuthChange(onUserChanged){\r\n        firebase.auth().onAuthStateChanged(user=>{\r\n            onUserChanged(user);\r\n        });\r\n    }\r\n}\r\n\r\nexport default AuthService;","class ImageUploader{\r\n    async upload(file){\r\n        const data=new FormData();\r\n        data.append('file',file);\r\n        data.append('upload_preset','p60eo8fr');\r\n        const res=await fetch(\r\n            'https://api.cloudinary.com/v1_1/darfixph8/image/upload',\r\n            {\r\n                method: 'POST',\r\n                body: data,\r\n            }\r\n        );\r\n        return await res.json();\r\n    }\r\n}\r\n\r\nexport default ImageUploader;","import React, { useRef, useState } from 'react';\r\nimport styles from './image_file_input.module.css';\r\n\r\nconst ImageFileInput = ({imageUploader, name, onFileChange}) => {\r\n    const [loading, setLoading]=useState(false);\r\n    const inputRef=useRef();\r\n    const onButtonClick=(e)=>{\r\n        e.preventDefault();\r\n        inputRef.current.click();\r\n    }\r\n\r\n    const onChange=async event=>{\r\n        setLoading(true);\r\n        const uploded= await imageUploader.upload(event.target.files[0]);\r\n        setLoading(false);\r\n        onFileChange({\r\n            name: uploded.original_filename,\r\n            url: uploded.url\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className={styles.container}>\r\n        <input\r\n        ref={inputRef}\r\n        className={styles.input}\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        name=\"file\"\r\n        onChange={onChange}/>\r\n        {!loading&&<button className={styles.button} onClick={onButtonClick}>{name||'No File'}</button>}\r\n        {loading&&<div className={styles.loading}></div>}\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default ImageFileInput;","import firebaseApp from './firebase';\r\n\r\nclass StudentRepository{\r\n    syncStudents(userId, onUpdate){\r\n        const ref=firebaseApp.database().ref(`${userId}/students`);\r\n        ref.on('value', snapshot=>{\r\n            const value=snapshot.val();\r\n            value&&onUpdate(value);\r\n        });\r\n        return()=>ref.off();\r\n    }\r\n    saveStudent(userId, student){\r\n        firebaseApp.database().ref(`${userId}/students/${student.id}`).set(student);\r\n    }\r\n\r\n    removeStudent(userId, student){\r\n        firebaseApp.database().ref(`${userId}/students/${student.id}`).remove();\r\n    }\r\n}\r\n\r\nexport default StudentRepository;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\nimport '@fortawesome/fontawesome-free/js/all.js';\nimport AuthService from './service/auth_service';\nimport ImageUploader from './service/image_uploader';\nimport ImageFileInput from './componentes/image_file_input/image_file_input';\nimport StudentRepository from './service/student_repository';\n\nconst authService=new AuthService();\nconst imageUploader=new ImageUploader();\nconst studentRepository=new StudentRepository();\nconst FileInput=props=>(\n  <ImageFileInput {...props} imageUploader={imageUploader}/>\n)\nReactDOM.render(\n  <React.StrictMode>\n    <App authService={authService} studentRepository={studentRepository} FileInput={FileInput}/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}